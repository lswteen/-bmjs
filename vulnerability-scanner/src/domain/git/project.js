/**
 * Domain Entity representing a Git Project
 */
export class GitProject {
    constructor({ key, id, name, description }) {
        if (!key) throw new Error('GitProject key is required');

        this.key = key;
        this.id = id;
        this.name = name || key;
        this.description = description || '';
        this.lastSynced = null;
    }

    static fromDto(dto) {
        return new GitProject({
            key: dto.key,
            id: dto.id,
            name: dto.name,
            description: dto.description
        });
    }

    setLastSynced(date) {
        this.lastSynced = date instanceof Date ? date.toISOString() : date;
    }

    toJSON() {
        return {
            key: this.key,
            id: this.id,
            name: this.name,
            description: this.description,
            lastSynced: this.lastSynced
        };
    }
}
