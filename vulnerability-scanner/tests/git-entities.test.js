import { GitProject } from '../src/domain/git/project.js';
import { GitRepository } from '../src/domain/git/repository.js';

describe('Git Domain Entities', () => {
    test('GitProject should create valid instance from DTO', () => {
        const dto = { key: 'TEST', id: 1, name: 'Test Project', description: 'Desc' };
        const project = GitProject.fromDto(dto);
        expect(project.key).toBe('TEST');
        expect(project.name).toBe('Test Project');
    });

    test('GitRepository should create valid instance from DTO', () => {
        const dto = { slug: 'repo1', id: 101, name: 'Repo One', description: 'Repo Desc' };
        const repo = GitRepository.fromDto(dto, 'TEST');
        expect(repo.slug).toBe('repo1');
        expect(repo.projectKey).toBe('TEST');
    });
});
